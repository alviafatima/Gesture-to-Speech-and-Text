
#include <SoftwareSerial.h>
SoftwareSerial mySerial(0,1); //  RX, TX 
int ledPin=13;//led on pin 13 is ON except when transmitter is parallel to the ground
int i = 0,j = 0,k = 0;

#include <Wire.h>
#include <ADXL345.h>

ADXL345 accelerometer;

void setup() 
{
  Serial.begin(9600);//Initialise the serial connection debugging
  
  mySerial.begin(9600);
  
  pinMode(ledPin,OUTPUT);
  
  mySerial.println(" Welcome To The Project ");

  accelerometer.setRange(ADXL345_RANGE_16G);
  
  digitalWrite(ledPin,1);
  delay(700);
  digitalWrite(ledPin,0);
  delay(700);
  digitalWrite(ledPin,1);
  delay(700);
  digitalWrite(ledPin,0);

}

void loop() 
{

    int f1 = analogRead(A0); 
   delay(10);
    int f2 = analogRead(A1); 
   delay(10);
    int f3 = analogRead(A2); 
   delay(10); 

   
    Vector raw = accelerometer.readRaw();


  if(f1 > 633)
  {
    i = 1;
  }
  else
  {
    i = 0;
  }
  
  if(f2 > 680)
  {
    j = 1;
  }
  else
  {
    j = 0;
  }
  
  if(f3 > 804)
  {
    k = 1;
  }
  else
  {
    k = 0;
  }

  if((raw.XAxis < -90) || (raw.YAxis > 90) || (raw.XAxis > 90) || (raw.YAxis < -90))
  { 
  
     if ((i == 0) && (j == 0) && (k == 0))
    {
      digitalWrite(ledPin,HIGH);

      
      mySerial.println("I NEED HELP ");
      Serial.println("I NEED HELP ");
      delay(2000);
      
    }
    
    else if ((i == 0) && (j == 0) && (k == 1))
    {
      digitalWrite(ledPin,HIGH);
          
      mySerial.println("I NEED WATER ");
      Serial.println("I NEED WATER ");
      delay(2000);
  
    }
    else if ((i == 0) && (j == 1) && (k == 0))
    {
      digitalWrite(ledPin,HIGH);
      
      mySerial.println("I NEED FOOD ");
      Serial.println("I NEED FOOD ");
      delay(2000);
      
    }
    
    else if ((i == 0) && (j == 1) && (k == 1))
    {
      digitalWrite(ledPin,HIGH);
      mySerial.println("I NEED MEDICINE ");
      Serial.println("I NEED MEDICINE ");
      delay(2000);
      
     }
     
    else if ((i == 1) && (j == 0) && (k == 0))
    {
      digitalWrite(ledPin,HIGH);
      mySerial.println("I NEED COFFEE ");
      Serial.println("I NEED COFFEE ");
      delay(2000);
      
     }
     
    else if ((i == 1) && (j == 0) && (k == 1))
    {
      digitalWrite(ledPin,HIGH);
      mySerial.println("I NEED BED SHEET ");
      Serial.println("I NEED BED SHEET ");
      delay(2000);
      
     }
     
    else if ((i == 1) && (j == 1) && (k == 0))
    {
      digitalWrite(ledPin,HIGH);
      mySerial.println("I NEED TO USE WASHROOM ");
      Serial.println("I NEED TO USE WASHROOM ");
      delay(2000);
      
     }
     
    else if ((i == 1) && (j == 1) && (k == 1))
    {
      digitalWrite(ledPin,HIGH);
      mySerial.println("I NEED TO GO OUT");
      Serial.println("I NEED TO GO OUT");
      delay(2000);
      
     }
  }
     
  digitalWrite(ledPin,LOW);
  delay(300);
  
}
